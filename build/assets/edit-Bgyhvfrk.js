import{T as y,Q as x,c as V,w as k,r as v,o as m,a as s,t as p,b as L,d as t,e as u,v as g,g as i,h as b,F as _,f as d,i as U}from"./app-QSAf45D3.js";import{_ as j}from"./InputLabel-C2oUBDkE.js";import{_ as C}from"./InputError-BAzQBbcT.js";import{_ as I}from"./AdminLayout-DNscmmc0.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={data(){var l;return{form:y({status:null,name:null,username:null,email:null,address:null,phone:null,role:(l=this.role)==null?void 0:l.toLocaleLowerCase(),permissions_ids:this.user_permissions,balance:this.user.balance,_method:"PATCH"}),roles:x().props.auth.roles}},props:{user:Object,all_status:Object,all_roles:Object,role:String,user_permissions:Object,permissions:Object},components:{InputError:C,InputLabel:j,AdminLayout:I},methods:{update(){this.form.post(route("admin.users.update",{user:this.user.id}),{preserveScroll:!0,onError:l=>{console.log(l)}})},givePermission(l){if(l.target.checked)this.form.permissions_ids.includes(l.target.value)||this.form.permissions_ids.push(l.target.value);else{var o=this.form.permissions_ids.indexOf(l.target.value);o!==-1&&this.form.permissions_ids.splice(o,1)}}},mounted(){this.form.status=this.user.status,this.form.name=this.user.name,this.form.username=this.user.username,this.form.email=this.user.email,this.form.address=this.user.address,this.form.phone=this.user.phone}},A={class:"w-3/4 mx-auto p-4 my-2 flex justify-between items-center"},E=s("div",null,null,-1),B=["href"],P={class:"w-3/4 mx-auto p-4 bg-white"},M={class:"mb-4"},N=["value"],T={class:"mb-4"},D=["value"],F={class:"mb-4"},z={class:"mb-4"},H={class:"mb-4"},Q={class:"mb-4"},q={class:"mb-4"},G={class:"mb-4"},J={key:0,class:"mb-4"},K={class:"grid grid-cols-2 md:grid-cols-4"},R={class:"flex justify-start items-center mb-4"},W=["for"],X=["id","value","checked"],Y={class:"mb-4"},Z={class:"py-2 px-4 border bg-primary rounded-md text-white"};function $(l,o,c,ss,r,h){const n=v("InputLabel"),a=v("InputError"),w=v("AdminLayout");return m(),V(w,null,{default:k(()=>[s("div",A,[E,s("div",null,[s("a",{class:"p-2 font-normal text-base bg-primary text-white rounded-md capitalize",href:l.route("admin.users.index")},p(l.$t("back")),9,B)])]),s("div",P,[s("form",{onSubmit:o[9]||(o[9]=L((...e)=>h.update&&h.update(...e),["prevent"]))},[s("div",M,[t(n,{for:"status",value:l.$t("status")},null,8,["value"]),u(s("select",{id:"status",class:"border-gray-500 rounded-sm shadow-sm w-full","onUpdate:modelValue":o[0]||(o[0]=e=>r.form.status=e)},[(m(!0),i(_,null,b(c.all_status,(e,f)=>(m(),i("option",{value:f},p(e),9,N))),256))],512),[[g,r.form.status]]),t(a,{class:"mt-2",message:r.form.errors.status},null,8,["message"])]),s("div",T,[t(n,{for:"status",value:l.$t("role")},null,8,["value"]),u(s("select",{id:"status",class:"border-gray-500 rounded-sm shadow-sm w-full","onUpdate:modelValue":o[1]||(o[1]=e=>r.form.role=e)},[(m(!0),i(_,null,b(c.all_roles,(e,f)=>(m(),i("option",{value:f},p(e),9,D))),256))],512),[[g,r.form.role]]),t(a,{class:"mt-2",message:r.form.errors.role},null,8,["message"])]),s("div",F,[t(n,{for:"name",value:l.$t("name")},null,8,["value"]),u(s("input",{type:"text",id:"name",class:"border-gray-500 rounded-sm shadow-sm w-full","onUpdate:modelValue":o[2]||(o[2]=e=>r.form.name=e)},null,512),[[d,r.form.name]]),t(a,{class:"mt-2",message:r.form.errors.name},null,8,["message"])]),s("div",z,[t(n,{for:"username",value:l.$t("username")},null,8,["value"]),u(s("input",{type:"text",id:"username",class:"border-gray-500 rounded-sm shadow-sm w-full","onUpdate:modelValue":o[3]||(o[3]=e=>r.form.username=e)},null,512),[[d,r.form.username]]),t(a,{class:"mt-2",message:r.form.errors.username},null,8,["message"])]),s("div",H,[t(n,{for:"email",value:l.$t("email")},null,8,["value"]),u(s("input",{type:"text",id:"email",class:"border-gray-500 rounded-sm shadow-sm w-full","onUpdate:modelValue":o[4]||(o[4]=e=>r.form.email=e)},null,512),[[d,r.form.email]]),t(a,{class:"mt-2",message:r.form.errors.email},null,8,["message"])]),s("div",Q,[t(n,{for:"address",value:l.$t("address")},null,8,["value"]),u(s("input",{type:"text",id:"address",class:"border-gray-500 rounded-sm shadow-sm w-full","onUpdate:modelValue":o[5]||(o[5]=e=>r.form.address=e)},null,512),[[d,r.form.address]]),t(a,{class:"mt-2",message:r.form.errors.address},null,8,["message"])]),s("div",q,[t(n,{for:"phone",value:l.$t("phone")},null,8,["value"]),u(s("input",{type:"text",id:"phone",class:"border-gray-500 rounded-sm shadow-sm w-full","onUpdate:modelValue":o[6]||(o[6]=e=>r.form.phone=e)},null,512),[[d,r.form.phone]]),t(a,{class:"mt-2",message:r.form.errors.phone},null,8,["message"])]),s("div",G,[t(n,{for:"balance",value:l.$t("balance")},null,8,["value"]),u(s("input",{type:"text",id:"balance",class:"border-gray-500 rounded-sm shadow-sm w-full","onUpdate:modelValue":o[7]||(o[7]=e=>r.form.balance=e)},null,512),[[d,r.form.balance]]),t(a,{class:"mt-2",message:r.form.errors.balance},null,8,["message"])]),r.roles.includes("Admin")?(m(),i("div",J,[t(n,{for:"permissions",value:l.$t("permissions")},null,8,["value"]),s("div",K,[(m(!0),i(_,null,b(c.permissions,e=>(m(),i("div",R,[s("label",{class:"mx-2 w-[150px]",for:e.name},p(e.name),9,W),s("input",{class:"block",type:"checkbox",id:e.name,value:e.name,checked:c.user_permissions.includes(e.name),onChange:o[8]||(o[8]=(...f)=>h.givePermission&&h.givePermission(...f))},null,40,X)]))),256))])])):U("",!0),s("div",Y,[s("button",Z,[s("span",null,p(l.$t("Submit")),1)])])],32)])]),_:1})}const ns=O(S,[["render",$]]);export{ns as default};
