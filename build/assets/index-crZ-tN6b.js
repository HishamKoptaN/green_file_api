import{Q as f,c as k,w as $,o as n,a as t,u as r,g as a,t as s,i as l,h as u,F as h,d as _,O as i}from"./app-D2Qhonwk.js";import{_ as C}from"./AdminLayout-BiWZN0Fe.js";import{_ as m}from"./Pagination-Cartai-x.js";const v={class:"p-4 bg-gray-50"},w={class:"my-6 flex justify-between items-center"},j=t("div",null,null,-1),B=["href"],O={key:0,class:"block my-4 py-4"},N={class:"block p-4 bg-green-400 font-xl text-white rounded-md"},V={class:"my-6"},z={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},F={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},q={class:"text-xs text-white uppercase bg-primary dark:bg-gray-700 dark:text-gray-400"},D={class:"capitalize"},E={scope:"col",class:"px-6 py-3"},L={scope:"col",class:"px-6 py-3"},Q={scope:"col",class:"px-6 py-3"},R={scope:"col",class:"px-6 py-3"},S={scope:"col",class:"px-6 py-3"},A={scope:"col",class:"px-6 py-3"},G={scope:"col",class:"px-6 py-3"},H={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},I=["textContent"],J=["textContent"],K=["textContent"],M=["textContent"],P=["textContent"],T=["textContent"],U={class:"px-6 py-4"},W=["href"],X=["href"],Y=["onClick"],Z={class:"my-6"},tt={class:"block mb-4"},et={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},st={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},ot={class:"text-xs text-white uppercase bg-primary dark:bg-gray-700 dark:text-gray-400"},nt={class:"capitalize"},at={scope:"col",class:"px-6 py-3"},lt={scope:"col",class:"px-6 py-3"},dt={scope:"col",class:"px-6 py-3"},rt={scope:"col",class:"px-6 py-3"},ct={class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},it=["textContent"],pt=["textContent"],ut={class:"px-6 py-4"},ht=["href"],_t={class:"px-6 py-4"},mt=["onClick"],yt=["onClick"],xt=["onClick"],$t={__name:"index",props:{plans:Object,invoices:Object},setup(c){const d=f().props.auth.permissions;function y(e){i.delete(route("admin.plans.destroy",{plan:e}))}function x(e){i.post(route("admin.plans.accept",{id:e}),{status:"accept"})}function g(e){i.post(route("admin.plans.accept",{id:e}),{status:"reject"})}function b(e){i.post(route("admin.plans.accept",{id:e}),{status:"accept"})}return(e,gt)=>(n(),k(C,null,{default:$(()=>[t("div",v,[t("div",w,[j,t("div",null,[r(d).includes("create plan")?(n(),a("a",{key:0,class:"p-2 font-normal text-base rounded-md bg-primary text-white",href:e.route("admin.plans.create")},s(e.$t("create plan")),9,B)):l("",!0)])]),e.$page.props.success?(n(),a("div",O,[t("div",N,s(e.$page.props.success),1)])):l("",!0),t("div",V,[t("div",z,[t("table",F,[t("thead",q,[t("tr",D,[t("th",E,s(e.$t("name")),1),t("th",L,s(e.$t("amount")),1),t("th",Q,s(e.$t("selling price")),1),t("th",R,s(e.$t("buying price")),1),t("th",S,s(e.$t("daily transfer")),1),t("th",A,s(e.$t("monthly transfer")),1),t("th",G,s(e.$t("options")),1)])]),t("tbody",null,[(n(!0),a(h,null,u(c.plans.data,o=>(n(),a("tr",H,[t("td",{class:"px-6 py-4",textContent:s(o.name)},null,8,I),t("td",{class:"px-6 py-4",textContent:s(o.amount+"$")},null,8,J),t("td",{class:"px-6 py-4",textContent:s(o.selling_price)},null,8,K),t("td",{class:"px-6 py-4",textContent:s(o.buying_price)},null,8,M),t("td",{class:"px-6 py-4",textContent:s(o.daily_transfer_count)},null,8,P),t("td",{class:"px-6 py-4",textContent:s(o.monthly_transfer_count)},null,8,T),t("td",U,[r(d).includes("edit plan")?(n(),a("a",{key:0,href:e.route("admin.plans.edit",{plan:o.id}),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline mx-1"},s(e.$t("edit")),9,W)):l("",!0),r(d).includes("show plan")?(n(),a("a",{key:1,href:e.route("admin.plans.show",{plan:o.id}),class:"font-medium text-blue-600 dark:text-blue-500 hover:underline mx-1"},s(e.$t("show")),9,X)):l("",!0),r(d).includes("delete plan")?(n(),a("button",{key:2,type:"button",onClick:p=>y(o.id),class:"font-medium text-red-600 dark:text-red-500 hover:underline mx-1"},s(e.$t("delete")),9,Y)):l("",!0)])]))),256))])])]),_(m,{items:c.plans},null,8,["items"])]),t("div",Z,[t("div",tt,s(e.$t("Requests")),1),t("div",et,[t("table",st,[t("thead",ot,[t("tr",nt,[t("th",at,s(e.$t("user name")),1),t("th",lt,s(e.$t("plan name")),1),t("th",dt,s(e.$t("proof")),1),t("th",rt,s(e.$t("options")),1)])]),t("tbody",null,[(n(!0),a(h,null,u(c.invoices,o=>(n(),a("tr",ct,[t("td",{class:"px-6 py-4",textContent:s(o.user.name)},null,8,it),t("td",{class:"px-6 py-4",textContent:s(o.data.plan_id)},null,8,pt),t("td",ut,[t("a",{href:"/storage/images/proofs/"+o.data.attachement,target:"_blank",rel:"noopener noreferrer"},s(o.data.attachement),9,ht)]),t("td",_t,[o.status=="pending"&&r(d).includes("show plans")?(n(),a("button",{key:0,type:"button",onClick:p=>x(o.id),class:"font-medium text-green-500 dark:text-green-500 hover:underline mx-1"},s(e.$t("accept")),9,mt)):l("",!0),o.status=="pending"&&r(d).includes("show plans")?(n(),a("button",{key:1,type:"button",onClick:p=>g(o.id),class:"font-medium text-red-500 dark:text-red-500 hover:underline mx-1"},s(e.$t("reject")),9,yt)):l("",!0),o.status=="pending"&&r(d).includes("show plans")?(n(),a("button",{key:2,type:"button",onClick:p=>b(o.id),class:"font-medium text-orange-500 dark:text-orange-500 hover:underline mx-1"},s(e.$t("block")),9,xt)):l("",!0)])]))),256))])])]),_(m,{items:c.plans},null,8,["items"])])])]),_:1}))}};export{$t as default};
